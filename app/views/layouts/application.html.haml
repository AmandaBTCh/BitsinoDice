!!!
%html
  %head
    %title Bitdice
    = stylesheet_link_tag    "application", media: "all", "data-turbolinks-track" => true
    = javascript_include_tag "application", "data-turbolinks-track" => true
    = csrf_meta_tags
    %meta{:content => "width=device-width, initial-scale=1.0", :name => "viewport"}/
  %body
    .navbar.navbar-inverse.navbar-fixed-top{:role => "navigation"}
      .container
        .navbar-header
          %button.navbar-toggle{"data-target" => ".navbar-collapse", "data-toggle" => "collapse", :type => "button"}
            %span.sr-only Toggle navigation
            %span.icon-bar
            %span.icon-bar
            %span.icon-bar
          %a.navbar-brand{:href => "#"} Project name
        .navbar-right
          %ul#logout.nav.navbar-nav.navbar-right{:style => 'display: none'}
            %li
              %a{:href => "#sign-out"} Sign Out
          %form#loginForm.navbar-form.navbar-right{:role => "form", :style => "display: none"}
            .form-group
              %input.form-control.username{:placeholder => "Username", :type => "text"}/
            .form-group
              %input.form-control.password{:placeholder => "Password", :type => "password"}/
            %button.btn.btn-success{:type => "submit"} Sign in
    = yield
    - if current_user != nil
      :javascript
        App.user = new App.Models.User(#{current_user.to_json.html_safe});
        App.initialize();
        App.bets.collection.reset(#{@bets.to_json.html_safe});
    - else
      :javascript
        App.initialize();
        App.bets.collection.reset(#{@bets.to_json.html_safe});